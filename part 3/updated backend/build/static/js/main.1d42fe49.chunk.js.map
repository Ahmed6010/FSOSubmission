{"version":3,"sources":["Services/persons.js","phonebook.js","index.js"],"names":["baseURL","Services_persons","axios","get","then","res","data","obj","post","id","put","concat","delete","Filter","_ref","val","func","react_default","a","createElement","value","onChange","PersonForm","_ref2","nameVal","numVal","handleSubmit","handleNameInput","handleNumInput","onSubmit","type","Person","_ref3","person","Fragment","name","number","onClick","Persons","_ref4","persons","map","key","phonebook_Person","Notification","_ref5","msg","messageType","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App4","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNum","setNewNum","_useState7","_useState8","oldName","setOldName","_useState9","_useState10","messages","setMessages","_useState11","_useState12","setMessageType","useEffect","dataService","response","catch","err","error","hideNotification","setTimeout","phonebook_Notification","phonebook_Filter","ev","filter","pr","toLowerCase","startsWith","target","console","log","phonebook_PersonForm","preventDefault","find","window","confirm","updatedPerson","objectSpread","newObject","length","phonebook_Persons","ReactDOM","render","StrictMode","phonebook","document","getElementById"],"mappings":"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","file":"static/js/main.1d42fe49.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseURL)\r\n  return request.then(res => res.data)\r\n}\r\n\r\nconst create = (obj) => {\r\n  const request = axios.post(baseURL, obj)\r\n  return request.then(res => res.data)\r\n}\r\n\r\nconst update = (id, obj) => {\r\n  const request = axios.put(`${baseURL}/${id}`, obj)\r\n  return request.then(res => res.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseURL}/${id}`)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React,{ useState, useEffect } from 'react'\r\nimport dataService from './Services/persons'\r\n\r\n\r\nconst Filter = ({val, func}) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input value={val} onChange={func}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PersonForm  = ({nameVal, numVal, handleSubmit, handleNameInput, handleNumInput}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={nameVal} onChange={handleNameInput}/>\r\n      </div>\r\n      <div>\r\n        number: <input value={numVal} onChange={handleNumInput}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst Person = ({person, func}) => {\r\n  return (\r\n    <>\r\n      {person.name} {person.number}\r\n      <button onClick={() => func(person)}>delete</button>\r\n    </> \r\n  )\r\n}\r\n\r\nconst Persons = ({persons, func}) => {\r\n  return (\r\n    <>\r\n      {persons.map(person => <p key={person.id}><Person person={person} func={func}/></p>)}\r\n    </>\r\n  )\r\n}\r\n\r\nconst Notification = ({msg, messageType}) => {\r\n  const successStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n  \r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if( msg === null )\r\n    return null\r\n\r\n  return (\r\n    <div style={messageType === 'success'? successStyle : errorStyle}>\r\n      {msg}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst App4 = () => {\r\n\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNum, setNewNum] = useState('')\r\n  const [oldName, setOldName] = useState('')\r\n  const [messages, setMessages] = useState(null)\r\n  const [messageType, setMessageType] = useState()\r\n\r\n  useEffect(() => {\r\n    dataService\r\n      .getAll()\r\n      .then(response => { setPersons(response) })\r\n      .catch(err => { \r\n        setMessages(err.response.data.error) \r\n        hideNotification()}\r\n      )\r\n  }, [])\r\n  \r\n  const hideNotification = () => {\r\n    setTimeout(() => {\r\n      setMessages(null)\r\n      setMessageType('')\r\n    }, 5000)\r\n  }\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    const person = persons.find(pr => pr.name === newName)\r\n    if( person ){\r\n      // window.alert(`${newName} is already added to phonebook`)  persons.filter(pr => pr.name === newName).length\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one ?`)) {\r\n        const updatedPerson = {...person , number: newNum,}\r\n        dataService\r\n          .update(person.id, updatedPerson)\r\n          .then(response => {\r\n            setPersons(persons.map(pr => pr.id !== person.id ? pr : updatedPerson))\r\n            setNewName('')\r\n            setNewNum('') \r\n            setMessages('The number is changed')\r\n            setMessageType('success')\r\n            hideNotification()\r\n          })\r\n          .catch(err => { \r\n            setMessages(err.response.data.error) \r\n            hideNotification()}\r\n          )\r\n      }\r\n      return\r\n    }\r\n\r\n    const newObject = {\r\n      name: newName,\r\n      number: newNum,\r\n      id: persons.length+1\r\n    }\r\n\r\n    dataService\r\n      .create(newObject)\r\n      .then(response => { \r\n        setMessages(`Added ${newName}`)\r\n        setMessageType('success')\r\n        hideNotification()\r\n        setPersons(persons.concat(newObject))\r\n      })\r\n      .catch(err => { \r\n        setMessages(err.response.data.error) \r\n        hideNotification()\r\n      })\r\n\r\n    setNewName('')\r\n    setNewNum('')\r\n  }\r\n \r\n  const handleDelete = (person) => {\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      dataService\r\n      .remove(person.id)\r\n      .then(res => {\r\n        setPersons(persons.filter(pr => pr.id !== person.id))\r\n        setMessages(`Deletted ${person.name}`)\r\n        setMessageType('success')\r\n        hideNotification()\r\n      })\r\n      .catch(err => { \r\n        setMessages(`Information of ${person.name} has already been removed from server`)\r\n        setMessageType('unsuccess')\r\n        hideNotification()\r\n      })  \r\n    }\r\n  }\r\n\r\n  const handleNameInput = (ev) => setNewName(ev.target.value)\r\n  const handleNumInput = (ev) => setNewNum(ev.target.value)\r\n  const handleSearch = (ev) => {\r\n    const data = persons.filter(pr => pr.name.toLowerCase().startsWith(ev.target.value.toLowerCase()))\r\n    setOldName(ev.target.value)\r\n    console.log(data);\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification msg={messages} messageType={messageType}/>\r\n      <Filter val={oldName} func={handleSearch}/>\r\n      <h3>Add a new</h3>\r\n      <PersonForm \r\n        nameVal={newName} \r\n        numVal={newNum} \r\n        handleSubmit={handleSubmit} \r\n        handleNameInput={handleNameInput} \r\n        handleNumInput={handleNumInput}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} func={handleDelete}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App4","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import App from './unicafe';\n// import App2 from './courseinfo';\n// import App3 from './anecdotes';\n// import App5 from './countries';\nimport App4 from './phonebook';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App4 />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}